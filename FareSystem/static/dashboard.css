html, body { height: 100%; }
body { background-color: white; overflow: hidden; } /* no page scroll */

/* Grid fills the viewport */
.app {
  font-family: sans-serif;
  display: grid;
  grid-template-areas: "title . fares" "match . fares" "teams . fares";
  grid-template-rows: auto auto 1fr; /* last row stretches */
  grid-template-columns: 35% 10% 55%;
  padding: 2em;
  height: 100vh; /* fill screen */
}

/* Allow grid children to shrink so inner panes can scroll */
.app > div { min-height: 0; }

/* FARES pane layout: header/active list fixed, past list takes remaining and scrolls */
.app [style*="grid-area:fares"] {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  min-height: 0; /* critical for nested scrolling */
}
#active-fares { flex: 0 0 auto; }
#past-fares  {
  flex: 1 1 auto;
  min-height: 0;
  overflow: hidden;         /* hidden by default */
  scrollbar-gutter: stable; /* optional: reserve space for scrollbar */
}
#past-fares:hover { overflow: auto; } /* scroll on hover */

/* TEAMS pane: list fills and scrolls on hover */
.app [style*="grid-area:teams"] {
  display: flex;
  flex-direction: column;
  min-height: 0;
}
#teams {
  display: grid;
  grid-template-columns: 1fr;           /* one column; adjust to 2 for denser view */
  gap: 0.5rem;
  padding-right: 0.25rem;
  box-sizing: border-box;
}
#teams {
  flex: 1 1 auto;
  min-height: 0;
  overflow: hidden;
  padding-bottom: 3.0rem;
}
#teams:hover { overflow: auto; }

h3 {
    margin: 0
}

.bg-neutral {
    background-color: lightgrey !important;
    color: black;
}

.bg-warn {
    background-color: orange !important;
    color: black;
}

.bg-ok {
    background-color: green !important;
    color: white;
}

.team {
  display: grid;
  grid-template-columns: 1fr auto;      /* left info + right actions */
  grid-template-areas:
    "title buttons"
    "money buttons"
    "position buttons"
    "status buttons";
  gap: 0.25rem 1rem;
  padding: 0.6rem 0.8rem;
  border: 1px solid #e6e8eb;
  border-radius: 8px;
  background: #fff;
  box-shadow: 0 1px 2px rgba(0,0,0,0.04);
}

/* Team row header sticks while the pane scrolls */
#teams .team.header {
  position: sticky;
  top: 0;
  z-index: 2;
  background: white;
  box-shadow: 0 1px 0 rgba(0,0,0,0.15);
}

.team h3 { grid-area: title; margin: 0; font-weight: 600; }

/* First column is the team number (h3) */
#teams .team > h3 {
  grid-column: 1;
  margin: 0;
  text-align: right;
}

/* Map typical fields into columns (adjust to your DOM ids) */
#teams .team [id$="-money"]         { grid-column: 2; text-align: right; }
#teams .team [id$="-rep"]           { grid-column: 3; text-align: right; }
#teams .team [id$="-fare"]          { grid-column: 4; }
#teams .team [id$="-position"]      { grid-column: 5; }
#teams .team [id$="-lastPosUpdate"] { grid-column: 6; }
#teams .team [id$="-lastStatus"]    { grid-column: 7; }

/* Buttons go to the last column, aligned to the right */
#teams .team .team-buttons {
  grid-column: 8;
  justify-self: end;
  display: flex;
  gap: 0.25rem;
}

.fare {
    display: grid;
    align-items: left;
    column-gap: 0.1rem;
}

#active-fares .fare {
    /* IDX | ROUTE | PAY/REP | TYPE | CLAIM | INPOS | PICKED | DONE | PAID | EXPIRY */
    grid-template-columns: 4ch 15ch 10ch 12ch 8ch 8.1ch 7ch 7ch 8ch 15ch;
}

#past-fares .fare {
    /* IDX | ROUTE | PAY/REP | TYPE | EXPIRY */
    grid-template-columns: 4ch 13ch 15ch 15ch 15ch;
}

.fare>h3 {
    padding-left: 0.1rem;
    margin: 0;
    text-align: left
}

/* Map spans to explicit columns by ID suffix so order doesn't matter */
#active-fares .fare [id$="-route"]      { grid-column: 2; text-align: left; }
#active-fares .fare [id$="-pay"]        { grid-column: 3; text-align: left; }
#active-fares .fare [id$="-modifier"]   { grid-column: 4; text-align: left; }
#active-fares .fare [id$="-claim"]      { grid-column: 5; text-align: left; }
#active-fares .fare [id$="-inPosition"] { grid-column: 6; text-align: left; }
#active-fares .fare [id$="-pickedUp"]   { grid-column: 7; text-align: left; }
#active-fares .fare [id$="-completed"]  { grid-column: 8; text-align: left; }
#active-fares .fare [id$="-paid"]       { grid-column: 9; text-align: left; }
#active-fares .fare [id$="-expiry"]     { grid-column: 10; text-align: left; }

#past-fares .fare [id$="-route"]      { grid-column: 2; text-align: left; }
#past-fares .fare [id$="-pay"]        { grid-column: 3; text-align: left; }
#past-fares .fare [id$="-modifier"]   { grid-column: 4; text-align: left; }
#past-fares .fare [id$="-expiry"]     { grid-column: 5; text-align: left; }

.fare span {
    padding: 0.25em 0.75em;
    border-radius: 0.5rem;
}

.fare.header { font-weight: 600; opacity: 0.85; }

#fare-divider {
    height: 1px;
    width: 100%;
    background-color: black;
    margin: 5px 0;
}

/* Fixed, semi-transparent logo that stays put on scroll */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background-image: url("/static/img/logo.png");
  background-repeat: no-repeat;
  background-position: center center;   /* centered on screen */
  background-size: clamp(500px, 25vmin, 1000px);
  opacity: 0.08;
  pointer-events: none;
  z-index: 0;
}
/* keep content above watermark */
body > * { position: relative; z-index: 1; }

/* Keep header compact and logo small */
.page-header {
  display: flex;
  flex-direction: column;   /* logo above title */
  align-items: flex-start;
  gap: 0.25rem;
}

.page-logo {
  height: clamp(28px, 10vw, 125px);
  width: auto;
  display: block;
}

/* Sticky headers for fare tables */
#active-fares .fare.header,
#past-fares .fare.header {
  position: sticky;
  top: 0;
  z-index: 2;
  background: white;          /* match page background */
  /* optional cosmetics */
  box-shadow: 0 1px 0 rgba(0,0,0,0.15);
}

/* Sticky header for Teams list (if you add one inside #teams) */
#teams .teams-header {
  position: sticky;
  top: 0;
  z-index: 2;
  background: white;
  box-shadow: 0 1px 0 rgba(0,0,0,0.15);
}

.team-controls {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}
